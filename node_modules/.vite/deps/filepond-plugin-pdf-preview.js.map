{
  "version": 3,
  "sources": ["../../filepond-plugin-pdf-preview/dist/filepond-plugin-pdf-preview.esm.js"],
  "sourcesContent": ["/*!\n * FilePondPluginPdfPreview 1.0.2\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit undefined for details.\n */\n\n/* eslint-disable */\n\nconst isPreviewablePdf = (file) => /pdf$/.test(file.type);\n\n\nconst createPdfView = (_) =>\n  _.utils.createView({\n    name: 'pdf-preview',\n    tag: 'div',\n    ignoreRect: true,\n    create: ({ root, props }) => {\n      // get item\n      const item = root.query('GET_ITEM', { id: props.id });\n      if (isPreviewablePdf(item.file)) {\n          const numPdfPreviewHeight = root.query('GET_PDF_PREVIEW_HEIGHT');          \n          root.ref.pdf = document.createElement('object');\n          root.ref.pdf.setAttribute('height', numPdfPreviewHeight);\n          root.ref.pdf.setAttribute('width', \"100%\");//320\n          root.ref.pdf.setAttribute(\n            'style',\n            'position:absolute;left:0;right:0;margin:auto;padding-top:unset;' +\n            ((numPdfPreviewHeight) ? ('height:' + numPdfPreviewHeight + 'px;') : '') \n                 \n          );\n          root.element.appendChild(root.ref.pdf);\n      } \n    },\n    write: _.utils.createRoute({\n      DID_PDF_PREVIEW_LOAD: ({ root, props }) => {\n        const { id } = props;\n\n        // get item\n        const item = root.query('GET_ITEM', { id: id });\n        if (!item) return;\n\n        let URL = window.URL || window.webkitURL;\n        let blob = new Blob([item.file], { type: item.file.type });\n\n        root.ref.pdf.type = item.file.type;\n        if (isPreviewablePdf(item.file)) {\n            const sPdfComponentExtraParams = root.query('GET_PDF_COMPONENT_EXTRA_PARAMS');\n            root.ref.pdf.data = URL.createObjectURL(blob) + ((!sPdfComponentExtraParams)?\"\":(\"#?\"+sPdfComponentExtraParams));\n        }\n        //else root.ref.pdf.src = URL.createObjectURL(blob);\n        \n        root.ref.pdf.addEventListener(\n          'load',\n          () => {\n            if (isPreviewablePdf(item.file)) {\n              root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n                id: id,\n                height: root.ref.pdf.scrollHeight,\n              });\n            }\n          },\n          false\n        );\n      },\n    }),\n  });\n\nconst createPdfWrapperView = (_) => {\n  /**\n   * Write handler for when preview container has been created\n   */\n  const didCreatePreviewContainer = ({ root, props }) => {\n    const { id } = props;\n    const item = root.query('GET_ITEM', id);\n    if (!item) return;\n\n    // the preview is now ready to be drawn\n    root.dispatch('DID_PDF_PREVIEW_LOAD', {\n      id,\n    });\n  };\n\n  /**\n   * Constructor\n   */\n  const create = ({ root, props }) => {\n    const pdf = createPdfView(_);\n\n    // append pdf presenter\n    root.ref.pdf = root.appendChildView(\n      root.createChildView(pdf, {\n        id: props.id,\n      })\n    );\n  };\n\n  return _.utils.createView({\n    name: 'pdf-preview-wrapper',\n    create,\n    write: _.utils.createRoute({\n      // pdf preview stated\n      DID_PDF_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,\n    }),\n  });\n};\n\n/**\n * Pdf Preview Plugin\n */\nconst plugin = (fpAPI) => {\n  const { addFilter, utils } = fpAPI;\n  const { Type, createRoute } = utils;\n  const pdfWrapperView = createPdfWrapperView(fpAPI);\n\n  // called for each view that is created right after the 'create' method\n  addFilter('CREATE_VIEW', (viewAPI) => {\n    // get reference to created view\n    const { is, view, query } = viewAPI;\n\n    // only hook up to item view\n    if (!is('file')) {\n      return;\n    }\n\n    // create the pdf preview plugin\n    const didLoadItem = ({ root, props }) => {\n      const { id } = props;\n      const item = query('GET_ITEM', id);\n\n      if (\n          !item ||\n          item.archived ||\n          ( !isPreviewablePdf(item.file))\n      ) {\n          return;\n      } // set preview view\n\n      // set preview view\n      root.ref.pdfPreview = view.appendChildView(\n        view.createChildView(pdfWrapperView, { id })\n      );\n\n      // now ready\n      root.dispatch('DID_PDF_PREVIEW_CONTAINER_CREATE', { id });\n    };\n\n    // start writing\n    view.registerWriter(\n      createRoute(\n        {\n          DID_LOAD_ITEM: didLoadItem,\n        },\n        ({ root, props }) => {\n          const { id } = props;\n          const item = query('GET_ITEM', id);\n\n          // don't do anything while not an pdf or hidden\n          if (\n            ( !isPreviewablePdf(item.file) ) ||\n            root.rect.element.hidden\n          )\n            return;\n        }\n      )\n    );\n  });\n\n  // expose plugin\n  return {\n    options: {\n        \n        allowPdfPreview: [true, Type.BOOLEAN],\n\n        // Fixed PDF preview height\n        pdfPreviewHeight: [320, Type.INT],\n\n        // Extra params to pass to the pdf visulizer\n        pdfComponentExtraParams: ['toolbar=0&navpanes=0&scrollbar=0&statusbar=0&zoom=0&messages=0&view=fitH&page=1', Type.STRING],\n    },\n  };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n  document.dispatchEvent(\n    new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n  );\n}\n\nexport default plugin;\n"],
  "mappings": "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",
  "names": []
}
